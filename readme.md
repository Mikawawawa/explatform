### About it
此工程用于记录实验平台（explatform）项目，并为实验室后续使用做准备

### File Struct
- api：网络部分的接口开发
- sql：数据库脚本
- drive：单片机驱动
- docker：容器
- soc：单片机
- analysis：需求分析
- web：前端
- hardware：清流

-------------------------

### 7.21 schedule
1. 确定信号流程图：
老师确认实验进度，服务器将进度存入数据库，开始实验，网关收到开关请求，控制组网给打分机上电，学生扫码后打分机上传学生信息，服务器发送实验信息到打分机，同时将验证结果发给网关，网关控制组网给实验桌上电。
实验结束，网关控制组网给打分机和实验桌同时断电。

2. 网关拟采用mqtt协议与服务器进行通信：
网关订阅此房间开关的主题，当web服务器发布有关开关的消息时，mqtt服务器转发此消息给网关。
此协议十分方便，若采用HTTP协议，需要轮询服务器以获得开关信息，实时性差；若采用socket连接，较不稳定。
现已用ESP8266证明mqtt协议可行性。

3. 打分机硬件改版设计完成：
    1. 更换新的WiFi模块，采用邮票口模块，减小体积
    2. 采用复位芯片进行复位
    3. 增加过压保护芯片，自带过压过流保护，瞬态抑制，防止热插拔
    4. 将电控部分去除
    5. 保险丝改成电子熔丝

4. 增加开关盒子的硬件需求：
    1. 开关盒子能独立控制某些贵重或大功率一起仪器
    2. 开关盒子具有过压保护，功率检测等功能
    3. 开关盒子直接与电源线相连，避免学生可以取下开关盒子直接插在插座上

5. 网络端完成对需求的拆解
    1. 对网页部分功能进行拆解，按照事务进行划分
    2. 确认实验台部分业务流程，同样拆分为事务
    3. 根据上述两点确认微信部分需实现的功能

6. 编写api文档
    1. 在第5条基础上，为便于单片机部分开发，已经提前开始编写api文档
    2. 创建基于http的mock服务器，便于单片机模拟业务流程
    3. 创建基于mqtt的测试服务器，便于单片机开发

### 7.28项目进展
1. 明确暑假目标：下学期内完成用于创新性实验室。
    1. 打分机，网关，开关盒子完成样品开发，实现基本功能。
    2. 网络部分按原计划完成后端开发，寻找前端人员合作，尽量在开学使用。
2. 打分机软件：
    完成WIFI模块USR-C322驱动开发，并更改打分机原代码，等待测试。
3. 打分机硬件：
    投板已到，开始焊接。
4. 服务器部分：
    1. 带学弟学妹完成了服务器部分环境搭建，并写好了部署脚本
    2. 对跨服务的用户状态保持、防止SQL注入攻击，这两项和安全相关的技术进行了开发和验证
    3. 完成HTTP、mqtt服务器这几项程序的docker化脚本编写
    4. 完成了数据库er图，明天将会编写数据字典，如果时间运行会写数据库初		始化脚本

### 8.5项目进展
1. 打分机
    WIFI模块更改完毕，系统已调通
2. CC3200
    1. 编程环境搭建完毕
    2. 熟悉工具和库函数使用方法
3. 硬件
    1. 打分机调试完成
    2. 找到了SMT批量生产厂家
    3. 基本敲定了智能插座和网关的技术方案，预计月底完成基本功能
4. 网络端
    1.  编写了数据库部署脚本
    2. 完成了数据库存储过程，实现了大部分功能
    3. 测试了用node调用存储过程

### 8.12项目进展
1. 打分机
    学习FreeRTOS操作系统
2. CC3200
    已学习完前三章教程，接下来跳至网络部分
3. 硬件
    打分机升级完成，准备投板
4. 网络端
    1. 完成了MVC中model层
    2. 完成了符合需求的express开发框架，便于以后使用
    3. 完成了登录接口
